+++
title = "Cart"
weight = 4
toc = true
+++

## Cart result example

```
{
    "result": {
        "id": 10685,
        "userId": 171,
        "salesmanId": 174,
        "spotId": 12,
        "tenantId": 2,
        "channelId": 413,
        "quantity": 6,
        "listPrice": 2302,
        "salePrice": 1740.34,
        "discount": 561.66,
        "remainAmount": 1740.34,
        "items": [
            {
                "id": 1,
                "sku": {
                    "id": 108235,
                    "name": "XXXXXS601D, (26)L/Pink, (FRE)FREE",
                    "contentId": 15664,
                    "brandId": 1,
                    "code": "XXXXXS601D26FRE",
                    "contentCode": "XXXXXS601D",
                    "brandCode": "EE",
                    "listPrice": 710,
                    "options": [
                        { "k": "Size", "v": "(FRE)FREE" },
                        { "k": "Color", "v": "(26)L/Pink" }
                    ],
                    "attributes": [
                        { "k": "ItemCode", "v": "AB" },
                        { "k": "Year", "v": "2017" },
                        { "k": "SeasonCode", "v": "S" },
                        { "k": "SaleMonth", "v": "6" },
                        { "k": "ContentTypeCode", "v": "P" }
                    ]
                },
                "quantity": 1,
                "listPrice": 710,
                "salePrice": 454.45,
                "unitSalePrice": 115.2,
                "discount": 255.55,
                "discountRate": 35.99,
                "catalogOffer": {
                    "id": 613,
                    "name": "vip(9)",
                    "code": "C000030",
                    "discount": 12.8,
                    "valid": true,
                    "startAt": "2017-12-08T00:00:00+08:00",
                    "endAt": "2019-12-27T23:59:59+08:00"
                },
                "wcsOffer": null,
                "cartOffers": [
                    {
                        "code": "SXXX0123",
                        "discount": 120.97,
                        "id": 4282,
                        "name": "全场满1000减200",
                        "valid": true,
                        "startAt": "2017-12-08T00:00:00+08:00",
                        "endAt": "2019-12-27T23:59:59+08:00"
                    },
                    {
                        "code": "SXXX0124",
                        "discount": 72.58,
                        "id": 4281,
                        "name": "全场满800减120",
                        "valid": true,
                        "startAt": "2017-12-08T00:00:00+08:00",
                        "endAt": "2019-12-27T23:59:59+08:00"
                    },
                    {
                        "code": "S2215291",
                        "discount": 50,
                        "id": 2137,
                        "name": "新增32款198-50",
                        "valid": true,
                        "startAt": "2017-12-08T00:00:00+08:00",
                        "endAt": "2019-12-27T23:59:59+08:00"
                    }
                ]
            },
            {
                "id": 2,
                "sku": {
                    "id": 108236,
                    "name": "XXXXXS601D, (NA)合并颜色, (ONA)合并尺寸",
                    "contentId": 15664,
                    "brandId": 1,
                    "code": "XXXXXS601DNAONA",
                    "contentCode": "XXXXXS601D",
                    "brandCode": "EE",
                    "listPrice": 210,
                    "options": [
                        { "k": "Size", "v": "(ONA)통합사이즈" },
                        { "k": "Color", "v": "(NA)통합칼라" }
                    ],
                    "attributes": [
                        { "k": "ItemCode", "v": "AB" },
                        { "k": "Year", "v": "2017" },
                        { "k": "SeasonCode", "v": "S" },
                        { "k": "SaleMonth", "v": "6" },
                        { "k": "ContentTypeCode", "v": "P" }
                    ]
                },
                "quantity": 1,
                "listPrice": 210,
                "salePrice": 143.09,
                "unitSalePrice": 143.09,
                "discount": 66.91,
                "discountRate": 31.86,
                "catalogOffer": {
                    "id": 613,
                    "name": "vip(9)",
                    "code": "C000030",
                    "discount": 12.8,
                    "valid": true,
                    "startAt": "2017-12-08T00:00:00+08:00",
                    "endAt": "2019-12-27T23:59:59+08:00"
                },
                "wcsOffer": null,
                "cartOffers": [
                    {
                        "code": "SXXX0123",
                        "discount": 34.32,
                        "id": 4282,
                        "name": "全场满1000减200",
                        "valid": true,
                        "startAt": "2017-12-08T00:00:00+08:00",
                        "endAt": "2019-12-27T23:59:59+08:00"
                    },
                    {
                        "code": "SXXX0124",
                        "discount": 20.59,
                        "id": 4281,
                        "name": "全场满800减120",
                        "valid": true,
                        "startAt": "2017-12-08T00:00:00+08:00",
                        "endAt": "2019-12-27T23:59:59+08:00"
                    }
                ]
            },
            {
                "id": 3,
                "sku": {
                    "id": 94688,
                    "name": "XXXXX401, XXX, XXX",
                    "contentId": 471,
                    "brandId": 1,
                    "code": "XXXXX401XXXXXX",
                    "contentCode": "XXXXX401",
                    "brandCode": "EE",
                    "listPrice": 378,
                    "options": [
                        { "k": "Size", "v": "(XXX)N/A" },
                        { "k": "Color", "v": "(XXX)N/A" }
                    ],
                    "attributes": [
                        { "k": "ItemCode", "v": "AB" },
                        { "k": "Year", "v": "2007" },
                        { "k": "SeasonCode", "v": "2" },
                        { "k": "SaleMonth", "v": "4" },
                        { "k": "ContentTypeCode", "v": "P" }
                    ]
                },
                "quantity": 2,
                "listPrice": 756,
                "salePrice": 604.8,
                "unitSalePrice": 302.4,
                "discount": 151.20,
                "discountRate": 20.00,
                "catalogOffer": null,
                "wcsOffer": {
                    "id": 0,
                    "name": "POS3.0使用_8折券",
                    "code": "EE2017050023",
                    "couponNo": "EEXXXXXXXXXX",
                    "discount": 151.2
                },
                "cartOffers": null
            },
            {
                "id": 4,
                "sku": {
                    "id": 94686,
                    "name": "XXXXX401, 281, XXX",
                    "contentId": 471,
                    "brandId": 1,
                    "code": "XXXXX401281XXX",
                    "contentCode": "XXXXX401",
                    "brandCode": "EE",
                    "listPrice": 378,
                    "options": [
                        { "k": "Size", "v": "(XXX)N/A" },
                        { "k": "Color", "v": "(281)brown" }
                    ],
                    "attributes": [
                        { "k": "ItemCode", "v": "AB" },
                        { "k": "Year", "v": "2007" },
                        { "k": "SeasonCode", "v": "2" },
                        { "k": "SaleMonth", "v": "4" },
                        { "k": "ContentTypeCode", "v": "P" }
                    ]
                },
                "quantity": 1,
                "listPrice": 378,
                "salePrice": 302.4,
                "unitSalePrice": 302.4,
                "discount": 75.6,
                "discountRate": 20.00,
                "catalogOffer": null,
                "wcsOffer": {
                    "id": 0,
                    "name": "POS3.0使用_8折券",
                    "code": "EE2017050023",
                    "discount": 75.6
                },
                "cartOffers": null
            },
            {
                "seq": 5,
                "sku": {
                    "id": 1944,
                    "name": "XXXXX102, 781, 000",
                    "contentId": 463,
                    "brandId": 1,
                    "code": "XXXXX102781000",
                    "contentCode": "XXXXX102",
                    "brandCode": "EE",
                    "listPrice": 248,
                    "options": [
                        { "k": "Size", "v": "(000)生产代表尺寸" },
                        { "k": "Color", "v": "(781)navy" }
                    ],
                    "attributes": [
                        { "k": "ItemCode", "v": "AB" },
                        { "k": "Year", "v": "2007" },
                        { "k": "SeasonCode", "v": "1" },
                        { "k": "SaleMonth", "v": "1" },
                        { "k": "ContentTypeCode", "v": "P" }
                    ]
                },
                "quantity": 1,
                "listPrice": 248,
                "salePrice": 235.6,
                "unitSalePrice": 235.6,
                "discount": 12.4,
                "discountRate": 5.00,
                "catalogOffer": {
                    "id": 612,
                    "name": "vip(9.5)",
                    "code": "C000029",
                    "discount": 12.4,
                    "valid": true,
                    "startAt": "2017-12-08T00:00:00+08:00",
                    "endAt": "2019-12-27T23:59:59+08:00"
                },
                "wcsOffer": null,
                "cartOffers": null
            }
        ],
        "customerId": 1065576,
        "couponNo": "EEXXXXXXXXXX",
        "couponInfo": {
            "no": "EEXXXXXXXXXX",
            "title": "POS3.0使用_8折券",
            "desc": "POS3.0使用_8折券",
            "startAt": "2017-05-14T16:00:00Z",
            "endAt": "2017-09-30T15:59:59Z",
            "enable": true,
            "couponType": "Discount",
            "eventId": "EEXXXXXXXX",
            "offerName": "POS3.0使用_8折券"
        },
        "customerInfo": {
            "id": 1065576,
            "no": "0000211453",
            "brandCode": "EE",
            "mobile": "13900001234",
            "grade": 1,
            "cardType": "diamondCard",
            "mileage": {
                "currentPoints": 879,
                "totalEarnPoints": 9497,
                "totalRedeemPoints": 8684,
                "totalSaleAmount": 211563.77
            },
            "benefit": {
                "can_redeem_mileage": true,
                "min_redeem_points": 100,
                "mileage": 879,
                "max_mileage_percent": 50,
                "discount_percent": 0,
                "birthday_discount_percent": 0,
                "max_birthday_price": 0
            },
            "profile": {
                "name": "名字",
                "gender": "F",
                "birthday": "1986-09-29",
                "email": "email@p2shop.cn",
                "married": false,
                "address": "北京XXXXXXXX",
                "addressDetail": "XXXXXXXX"
            },
            "availableCoupons": [
                {
                    "couponNo": "EEXXXXXXXXXX",
                    "title": "10% Discount!",
                    "description": "description",
                    "notice": "notice",
                    "startDate": "2017-01-01T16:00:00Z",
                    "endDate": "2017-12-31T16:00:00Z"
                }
            ]
        },
        "mileage": {
            "current": 879,
            "available": 686,
            "use": 100
        },
        "info": null,
        "payments": [
            { "seq": 1, "method": "alipay", "amount": 1000 },
            { "seq": 2, "method": "wxpay", "amount": 200 },
            { "seq": 3, "method": "creditcard", "amount": 50 },
            { "seq": 4, "method": "cash", "amount": 23.2 }
        ],
        "catalogOffers": [
            {
                "id": 613,
                "name": "vip(9)",
                "code": "C000030",
                "discount": 153.6,
                "valid": true,
                "startAt": "2017-12-08T00:00:00+08:00",
                "endAt": "2019-12-27T23:59:59+08:00"
            },
            {
                "id": 612,
                "name": "vip(9.5)",
                "code": "C000029",
                "discount": 74.4,
                "valid": true,
                "startAt": "2017-12-08T00:00:00+08:00",
                "endAt": "2019-12-27T23:59:59+08:00"
            }
        ],
        "cartOffers": [
            {
                "code": "SXXX0123",
                "discount": 200,
                "id": 4282,
                "name": "全场满1000减200",
                "valid": true,
                "startAt": "2017-12-08T00:00:00+08:00",
                "endAt": "2019-12-27T23:59:59+08:00"
            },
            {
                "code": "SXXX0124",
                "discount": 120,
                "id": 4281,
                "name": "全场满800减120",
                "valid": true,
                "startAt": "2017-12-08T00:00:00+08:00",
                "endAt": "2019-12-27T23:59:59+08:00"
            },
            {
                "code": "S2215291",
                "discount": 50,
                "id": 2137,
                "name": "新增32款198-50",
                "valid": true,
                "startAt": "2017-12-08T00:00:00+08:00",
                "endAt": "2019-12-27T23:59:59+08:00"
            }
        ],
        "wcsOffer": {
            "name": "POS3.0使用_8折券",
            "code": "EE2017050023",
            "couponNo": "EEXXXXXXXXXX",
            "discount": 226.8
        },
        "createdAt": "2017-08-16T02:19:49.328005471Z",
        "updatedAt": "2017-08-16T02:19:49.328005471Z",
        "status": "created"
    },
    "success": true,
    "error": {}
}
```

## Create cart

`/cart/create-cart`

#### Parameters

None

#### Example

`pp://staging/cart/create-cart`

---


## Add item to cart

`/cart/add-item`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|
|skuId|Yes|number|
|quantity|Yes|number|
|offerId|No|number|

#### Example


`pp://staging/cart/add-item?cartId=1349&skuId=502&quantity=2&offerId=1928`

---


## Remove item from cart

`/cart/remove-item`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|
|itemId|Yes|number|

#### Example

`pp://staging/cart/remove-item?cartId=1349&itemId=5`

---

## Change item offer

`/cart/edit-item`

#### Parameters

|Name|Required|Type|Desc|
|---|---|---|---|
|cartId|Yes|number| |
|itemId|Yes|number| |
|offerId|No|number| |
|quantity|No|number| |
|offerType|No|string|`Catalog|Cart`(default: `Catalog`)|

#### Example

`pp://staging/cart/edit-item?cartId=1349&itemId=4638&offerId=1`

---

## Set customer

`/cart/set-customer`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|
|no|Yes|string|

Or

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|
|brandCode|Yes|string|
|mobile|Yes|string|

#### Example

`pp://staging/cart/set-customer?cartId=1349&no=EE0000053147`

Or

`pp://staging/cart/set-customer?cartId=1349&brandCode=EE&mobile=18512345678`


## Set coupon


`/cart/set-coupon`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|
|no|Yes|string|

#### Example


`pp://staging/cart/set-coupon?cartId=1349&no=EE4EEDE03E762A2AA2`


## Set info

`/cart/set-info`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|
|`key`|Yes|string|

#### Example

`pp://staging/cart/set-info?cartId=326&receipt=193018485875930103&casher=nancy`


## Use mileage

`/cart/use-mileage`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|
|amount|Yes|number|

#### Example

`pp://staging/cart/use-mileage?cartId=1349&amount=208`


## Set payment


`/cart/set-payment`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|
|method|Yes|string|
|amount|Yes|number|

#### Example

`pp://staging/cart/set-payment?cartId=1349&method=alipay&amount=690`

## Remove cart

`/cart/remove-cart`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|

#### Example

`pp://staging/cart/remove-cart?cartId=1349`


---


## Get all carts

`/cart/all-carts`

#### Parameters

None

#### Example


`pp://staging/cart/all-carts`

---


## Get cart

`/cart/get-cart`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|

#### Example

`pp://staging/cart/get-cart?cartId=1349`


## Set salesman


`/cart/set-salesman`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|
|salesmanId|Yes|number|

#### Example

`pp://staging/cart/set-salesman?cartId=1349&salesmanId=58`

## Clear cart


`/cart/clear-cart`

#### Parameters

|Name|Required|Type|
|---|---|---|
|cartId|Yes|number|

#### Example

`pp://staging/cart/clear-cart?cartId=1349`
